<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pengunduh Video Universal</title>
    <!-- Memuat Tailwind CSS dari CDN untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Memuat font Inter dari Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Mengatur font default untuk seluruh halaman */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body>
    <!-- Div tempat aplikasi React akan dirender -->
    <div id="root"></div>

    <!-- Memuat React dan ReactDOM dari CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Memuat Babel untuk mengompilasi JSX di browser (hanya untuk pengembangan/demo) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        // Komponen utama aplikasi React
        const App = () => {
            // State untuk menyimpan URL video yang dimasukkan pengguna
            const [videoUrl, setVideoUrl] = React.useState('');
            // State untuk menyimpan kualitas video yang dipilih dari dropdown
            const [selectedQuality, setSelectedQuality] = React.useState('best');
            // State untuk menyimpan apakah pengguna ingin mengunduh sebagai MP3
            const [downloadAsMp3, setDownloadAsMp3] = React.useState(false);
            // State untuk menampilkan pesan kepada pengguna (misalnya, status unduhan)
            const [message, setMessage] = React.useState('');
            // State untuk menunjukkan apakah proses unduhan sedang berlangsung
            const [isLoading, setIsLoading] = React.useState(false);

            // Opsi kualitas video yang tersedia untuk dropdown
            // Dalam aplikasi nyata, ini akan diambil secara dinamis dari URL video
            const qualityOptions = [
                { value: 'best', label: 'Kualitas Terbaik' },
                { value: '1080p', label: '1080p' },
                { value: '720p', label: '720p' },
                { value: '480p', label: '480p' },
                { value: '360p', label: '360p' },
            ];

            // Fungsi yang menangani proses pengunduhan
            const handleDownload = async () => {
                // Validasi input URL
                if (!videoUrl) {
                    setMessage('Mohon masukkan URL video.');
                    return;
                }

                setIsLoading(true); // Set loading ke true saat unduhan dimulai
                setMessage('Memulai proses unduhan...');

                // Simulasi penundaan untuk menunjukkan proses "pengunduhan"
                // Dalam aplikasi nyata, di sinilah Anda akan memanggil API sisi server
                // yang akan menggunakan yt-dlp atau alat serupa untuk mengunduh video.
                await new Promise(resolve => setTimeout(resolve, 3000)); // Simulasi 3 detik

                setIsLoading(false); // Set loading ke false setelah "unduhan" selesai

                // Menampilkan pesan sukses dengan detail pilihan pengguna
                const downloadType = downloadAsMp3 ? 'MP3' : 'Video';
                const qualityInfo = downloadAsMp3 ? '' : ` (Kualitas: ${selectedQuality})`;
                setMessage(
                    `Permintaan unduhan ${downloadType}${qualityInfo} untuk URL:\n${videoUrl}\n\n` +
                    `Catatan: Dalam aplikasi nyata, proses ini akan ditangani oleh server. ` +
                    `Aplikasi web sisi klien tidak dapat mengunduh video secara langsung dari platform seperti YouTube/TikTok/Facebook/Instagram karena batasan keamanan.`
                );
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-600 to-indigo-800 flex items-center justify-center p-4 font-sans antialiased">
                    <div className="bg-white p-8 rounded-xl shadow-2xl w-full max-w-lg transform transition-all duration-300 hover:scale-[1.01]">
                        <h1 className="text-3xl font-bold text-center text-gray-800 mb-6">
                            Pengunduh Video Universal
                        </h1>

                        {/* Input URL Video */}
                        <div className="mb-5">
                            <label htmlFor="videoUrl" className="block text-gray-700 text-sm font-semibold mb-2">
                                URL Video (YouTube, TikTok, Facebook, Instagram):
                            </label>
                            <input
                                type="text"
                                id="videoUrl"
                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition duration-200"
                                placeholder="Masukkan URL video di sini..."
                                value={videoUrl}
                                onChange={(e) => setVideoUrl(e.target.value)}
                                disabled={isLoading}
                            />
                        </div>

                        {/* Dropdown Kualitas Video */}
                        <div className="mb-5">
                            <label htmlFor="qualitySelect" className="block text-gray-700 text-sm font-semibold mb-2">
                                Pilih Kualitas Video:
                            </label>
                            <select
                                id="qualitySelect"
                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition duration-200 bg-white"
                                value={selectedQuality}
                                onChange={(e) => setSelectedQuality(e.target.value)}
                                disabled={downloadAsMp3 || isLoading} // Nonaktifkan jika MP3 dipilih atau sedang loading
                            >
                                {qualityOptions.map((option) => (
                                    <option key={option.value} value={option.value}>
                                        {option.label}
                                    </option>
                                ))}
                            </select>
                        </div>

                        {/* Checkbox Unduh MP3 */}
                        <div className="mb-6 flex items-center">
                            <input
                                type="checkbox"
                                id="downloadMp3"
                                className="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"
                                checked={downloadAsMp3}
                                onChange={(e) => setDownloadAsMp3(e.target.checked)}
                                disabled={isLoading}
                            />
                            <label htmlFor="downloadMp3" className="ml-2 block text-gray-700 text-sm font-semibold">
                                Unduh sebagai MP3 (Audio Saja)
                            </label>
                        </div>

                        {/* Tombol Unduh */}
                        <button
                            onClick={handleDownload}
                            className={`w-full py-3 rounded-lg text-white font-bold text-lg transition duration-300 ease-in-out transform ${
                                isLoading
                                    ? 'bg-gray-400 cursor-not-allowed'
                                    : 'bg-purple-600 hover:bg-purple-700 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl'
                            } focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2`}
                            disabled={isLoading}
                        >
                            {isLoading ? (
                                <div className="flex items-center justify-center">
                                    <svg className="animate-spin h-5 w-5 mr-3 text-white" viewBox="0 0 24 24">
                                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>
                                    Mengunduh...
                                </div>
                            ) : (
                                'Unduh Video/MP3'
                            )}
                        </button>

                        {/* Area Pesan */}
                        {message && (
                            <div className="mt-6 p-4 bg-blue-100 border border-blue-200 text-blue-800 rounded-lg text-sm whitespace-pre-wrap">
                                {message}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // Merender komponen App ke dalam elemen dengan id "root"
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
      
